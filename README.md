# ç”µå•†å¹³å°é¡¹ç›®

ä¸€ä¸ªå®Œæ•´çš„ç”µå•†å¹³å°ç³»ç»Ÿï¼Œé‡‡ç”¨ Monorepo æ¶æ„ï¼ŒåŒ…å«å‰å°ç”¨æˆ·ç«¯ã€åå°ç®¡ç†ç³»ç»Ÿå’Œåç«¯æœåŠ¡ã€‚

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
shop-app/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ shop-client/        # å‰å°ç”¨æˆ·ç«¯ (Next.js)
â”‚   â”œâ”€â”€ shop-admin/         # åå°ç®¡ç†ç³»ç»Ÿ (React + Vite)
â”‚   â””â”€â”€ shop-server/        # åç«¯æœåŠ¡ (Node.js + Express)
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ shared/             # å…±äº«ç±»å‹å’Œå·¥å…·åº“
â”œâ”€â”€ package.json
â”œâ”€â”€ pnpm-workspace.yaml
â””â”€â”€ README.md
```

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰å°ç”¨æˆ·ç«¯ (shop-client)
- **æ¡†æ¶**: Next.js 14 (App Router)
- **UI**: TailwindCSS + Lucide Icons
- **çŠ¶æ€ç®¡ç†**: Zustand
- **æ•°æ®è¯·æ±‚**: Axios + SWR
- **è¯­è¨€**: TypeScript

### åå°ç®¡ç†ç³»ç»Ÿ (shop-admin)
- **æ¡†æ¶**: React 18 + Vite
- **UI**: Ant Design 5
- **è·¯ç”±**: React Router v6
- **çŠ¶æ€ç®¡ç†**: Zustand
- **æ•°æ®è¯·æ±‚**: Axios
- **è¯­è¨€**: TypeScript

### åç«¯æœåŠ¡ (shop-server)
- **æ¡†æ¶**: Express
- **è¯­è¨€**: TypeScript + Node.js
- **è®¤è¯**: JWT
- **æ•°æ®åº“**: MongoDB (Mongoose)
- **å·¥å…·**: Morgan, CORS, dotenv

### å…±äº«åº“ (packages/shared)
- ç±»å‹å®šä¹‰
- å·¥å…·å‡½æ•°
- å¸¸é‡å®šä¹‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 20.11.0
- pnpm >= 8.0.0

### å®‰è£…ä¾èµ–

```bash
# å®‰è£… pnpmï¼ˆå¦‚æœè¿˜æ²¡æœ‰å®‰è£…ï¼‰
npm install -g pnpm

# å®‰è£…æ‰€æœ‰ä¾èµ–
pnpm install
```

### å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨å‰å°ç”¨æˆ·ç«¯ (ç«¯å£: 3000)
pnpm dev:client

# å¯åŠ¨åå°ç®¡ç†ç³»ç»Ÿ (ç«¯å£: 3001)
pnpm dev:admin

# å¯åŠ¨åç«¯æœåŠ¡ (ç«¯å£: 4000)
pnpm dev:server

# åŒæ—¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
pnpm dev:all
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºæ‰€æœ‰é¡¹ç›®
pnpm build:all

# æˆ–å•ç‹¬æ„å»º
pnpm build:client
pnpm build:admin
pnpm build:server
```

## ğŸ“± åº”ç”¨è¯´æ˜

### å‰å°ç”¨æˆ·ç«¯ (http://localhost:3000)

**åŠŸèƒ½ç‰¹æ€§**:
- ğŸ  é¦–é¡µå±•ç¤ºï¼ˆè½®æ’­å›¾ã€çƒ­é—¨åˆ†ç±»ã€æ¨èå•†å“ï¼‰
- ğŸ” å•†å“æœç´¢å’Œç­›é€‰
- ğŸ“¦ å•†å“è¯¦æƒ…é¡µ
- ğŸ›’ è´­ç‰©è½¦ç®¡ç†
- ğŸ‘¤ ç”¨æˆ·ç™»å½•/æ³¨å†Œ
- ğŸ“‹ è®¢å•ç®¡ç†
- ğŸ’³ åœ¨çº¿æ”¯ä»˜ï¼ˆé›†æˆä¸­ï¼‰

**ä¸»è¦é¡µé¢**:
- `/` - é¦–é¡µ
- `/products` - å•†å“åˆ—è¡¨
- `/products/[id]` - å•†å“è¯¦æƒ…
- `/cart` - è´­ç‰©è½¦
- `/orders` - æˆ‘çš„è®¢å•
- `/login` - ç™»å½•
- `/register` - æ³¨å†Œ

### åå°ç®¡ç†ç³»ç»Ÿ (http://localhost:3001)

**åŠŸèƒ½ç‰¹æ€§**:
- ğŸ“Š æ•°æ®ç»Ÿè®¡ä»ªè¡¨ç›˜
- ğŸ“¦ å•†å“ç®¡ç†ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- ğŸ“‹ è®¢å•ç®¡ç†
- ğŸ‘¥ ç”¨æˆ·ç®¡ç†
- ğŸ·ï¸ åˆ†ç±»ç®¡ç†
- ğŸ‘¨â€ğŸ’¼ ç®¡ç†å‘˜æƒé™æ§åˆ¶

**é»˜è®¤ç™»å½•**:
- ç”¨æˆ·å: admin
- å¯†ç : ä»»æ„ï¼ˆå¼€å‘ç¯å¢ƒï¼‰

**ä¸»è¦é¡µé¢**:
- `/` - ä»ªè¡¨ç›˜
- `/products` - å•†å“ç®¡ç†
- `/orders` - è®¢å•ç®¡ç†
- `/users` - ç”¨æˆ·ç®¡ç†
- `/login` - ç®¡ç†å‘˜ç™»å½•

### åç«¯æœåŠ¡ (http://localhost:4000)

**API ç«¯ç‚¹**:

#### è®¤è¯ç›¸å…³
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `GET /api/auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯

#### å•†å“ç›¸å…³
- `GET /api/products` - è·å–å•†å“åˆ—è¡¨
- `GET /api/products/:id` - è·å–å•†å“è¯¦æƒ…
- `POST /api/products` - åˆ›å»ºå•†å“ï¼ˆéœ€ç®¡ç†å‘˜æƒé™ï¼‰
- `PUT /api/products/:id` - æ›´æ–°å•†å“ï¼ˆéœ€ç®¡ç†å‘˜æƒé™ï¼‰
- `DELETE /api/products/:id` - åˆ é™¤å•†å“ï¼ˆéœ€ç®¡ç†å‘˜æƒé™ï¼‰

#### è®¢å•ç›¸å…³
- `GET /api/orders` - è·å–è®¢å•åˆ—è¡¨
- `GET /api/orders/:id` - è·å–è®¢å•è¯¦æƒ…
- `POST /api/orders` - åˆ›å»ºè®¢å•
- `PATCH /api/orders/:id/status` - æ›´æ–°è®¢å•çŠ¶æ€

#### ç”¨æˆ·ç›¸å…³
- `GET /api/users` - è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆéœ€ç®¡ç†å‘˜æƒé™ï¼‰
- `GET /api/users/:id` - è·å–ç”¨æˆ·è¯¦æƒ…
- `PUT /api/users/:id` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- `PATCH /api/users/:id/status` - æ›´æ–°ç”¨æˆ·çŠ¶æ€ï¼ˆéœ€ç®¡ç†å‘˜æƒé™ï¼‰

## ğŸ”§ å¼€å‘æŒ‡å—

### ç›®å½•è¯´æ˜

#### å‰å°ç”¨æˆ·ç«¯ç»“æ„
```
shop-client/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/              # Next.js App Router é¡µé¢
â”‚   â”œâ”€â”€ components/       # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ lib/             # å·¥å…·åº“
â”‚   â””â”€â”€ store/           # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ public/              # é™æ€èµ„æº
â””â”€â”€ package.json
```

#### åå°ç®¡ç†ç³»ç»Ÿç»“æ„
```
shop-admin/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ layouts/         # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ components/      # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ store/          # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ main.tsx        # å…¥å£æ–‡ä»¶
â””â”€â”€ package.json
```

#### åç«¯æœåŠ¡ç»“æ„
```
shop-server/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ routes/         # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ middleware/     # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”œâ”€â”€ controllers/    # æ§åˆ¶å™¨ï¼ˆå¾…å®ç°ï¼‰
â”‚   â””â”€â”€ index.ts       # å…¥å£æ–‡ä»¶
â””â”€â”€ package.json
```

### ç¯å¢ƒå˜é‡

#### å‰å°ç”¨æˆ·ç«¯ (.env)
```
API_BASE_URL=http://localhost:4000
```

#### åç«¯æœåŠ¡ (.env)
```
PORT=4000
NODE_ENV=development
JWT_SECRET=your-jwt-secret-key
MONGODB_URI=mongodb://localhost:27017/shop-app
```

### ä»£ç è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ ESLint å’Œ Prettier è¿›è¡Œä»£ç è§„èŒƒæ£€æŸ¥ï¼š

```bash
# è¿è¡Œ lint
pnpm --filter shop-client lint
pnpm --filter shop-admin lint
pnpm --filter shop-server lint
```

## ğŸ“ å¾…å®ŒæˆåŠŸèƒ½

- [ ] æ•°æ®åº“é›†æˆï¼ˆMongoDBï¼‰
- [ ] æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
- [ ] æ”¯ä»˜æ¥å£é›†æˆ
- [ ] é‚®ä»¶é€šçŸ¥
- [ ] çŸ­ä¿¡éªŒè¯
- [ ] å•†å“è¯„è®ºç³»ç»Ÿ
- [ ] ä¼˜æƒ åˆ¸ç³»ç»Ÿ
- [ ] åº“å­˜é¢„è­¦
- [ ] æ•°æ®å¯¼å‡ºåŠŸèƒ½
- [ ] ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–

## ğŸ” å®‰å…¨æ³¨æ„äº‹é¡¹

1. **JWT Secret**: ç”Ÿäº§ç¯å¢ƒåŠ¡å¿…ä¿®æ”¹ `JWT_SECRET`
2. **CORS**: ç”Ÿäº§ç¯å¢ƒé…ç½®æ­£ç¡®çš„åŸŸåç™½åå•
3. **ç¯å¢ƒå˜é‡**: ä¸è¦å°† `.env` æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
4. **å¯†ç åŠ å¯†**: ä½¿ç”¨ bcrypt åŠ å¯†ç”¨æˆ·å¯†ç 
5. **è¾“å…¥éªŒè¯**: ä½¿ç”¨ express-validator éªŒè¯è¾“å…¥

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æ Issue æˆ–è”ç³»ç»´æŠ¤è€…ã€‚

---

**å¼€å‘å›¢é˜Ÿ**  
2026å¹´1æœˆ


